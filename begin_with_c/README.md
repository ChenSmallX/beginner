# C语言入门手册
武汉理工大学计算机协会©2019

本教程着重于“从实践入手，逐步了解C语言运作方法”，并起到抛砖引玉的效果，将各位初学者引入C语言学习的世界。

## Step 0x00 Simplest C programming code

首先我们先来看一个最简单的样例程序：

```c
int main()
{
    return 0;
}
```

没错，这是个最简单的C语言程序，或许有同学会觉得这程序也太简短了吧，完全做不了什么呀~
是的，这代码是最简短的，的确也什么都做不了(实际上是做了“给系统返回了个0”这样的操作)，但是可以看出一个C程序应该包含那些东西。

我们来分析一下这串代码：

这串代码里面包含了一个函数——main函数。首先介绍一个概念，一个能够独立运行的C语言程序必须包括一个main函数，main函数是供给系统调用这个程序的入口。这也就是为什么一个不包含main函数的代码文件可以通过编译却无法独立运行的原因。

main函数具备了所有函数应该具备的所有素质，包括函数返回类型，函数名，函数参数表，函数体以及返回值。一一映射到上面代码就是：

```c
返回类型 函数名(函数参数表)
{
    函数体(包含：函数返回值语句)
}
```

返回类型
> 返回类型通常表示函数执行完成后对调用此函数的上层函数返回一个此类型的值。

函数名
> 顾名思义，就是调用这个函数的时候用的标识符。

函数体
> 函数体即为函数内部的具体实现(实现就是程序员代码将具体代码编程成文件的具体过程，此处应该为动名词)。

返回值
> 这一步是必要的，返回的数据的类型对应函数本身的返回类型。当函数返回类型为`void`的时候可以没有返回值，但是`return`语句可选(用于跳出函数)。

本节到此结束，感兴趣的同学可以在自己的IDE(Integrated Development Environment, 集成开发环境)或者编辑器中编写代码，并使用编译器编译运行观察系统执行的行为(如果是Windows系统建议在cmd中调用编译好的程序，或者使用dev-cpp or codeblocks这类会在退出处暂停的IDE)。

## Step 0x01 I Want to Output Some Thing

有的同学说了，一个这样的程序能干嘛？
回答当然是：当然啥都干不了！但是现在教你打印一点东西在屏幕上，嘻嘻~

这里需要用到C语言编译器的一个功能预处理~！(注意！预处理并不是C语言本身的特性，而是编译器的特性，只不过每一个编译器包含了这个特性而已！)

那么我们现在开始吧~

```c
#include <stdio.h>
int main()
{
    printf("Hello world\n");
    return 0;
}
```

通过观察，我们可以发现，这串代码和上一节的样例代码有一点不同，多了两行代码。我们来看看这两行多出来的：

```c
#include<stdio.h>
```

这就是我们所说的“预处理”代码。在C语言代码中，以"#"开头的行，均为编译器预处理操作指令。例如在此处的include指令，意思为将`stdio.h`这个文件包含进这串代码。

```c
printf("Hello world!\n");
```

这一串代码估计很多同学都能看出意思的一二，大概就是将后面那串字符打印出来，毕竟看到了"print"嘛。
好了，现在我们具体就这串代码来细细讲解一番。

首先这个函数的函数名为`printf`，具体大家如何理解其中的意思都无妨，通常可以看做"print function"(打印函数)或者"print formatted"(格式化打印)，我个人是偏向于后者。为什么呢，因为`scanf`(一个即将要讲解的函数)和`printf`统称为标准格式化输入输出，供可定格式样式的输入和输出。

那么我们如何才能使用这个函数呢，很多同学已经猜到了，要代码里头有`#include<stdio.h>`才行。这是为什么呢，因为这个函数是在标准库里头的，是前人为我们设计好的函数，我们只管用就好了，无需理会它如何具体实现(当然，这也没法理会，这算是unix||Linux的系统调用，属于操作系统功能的一部分)。

首先这个函数的函数名为`printf`，具体大家如何理解其中的意思都无妨，通常可以看做"print function"(打印函数)或者"print formatted"(格式化打印)，我个人是偏向于后者。为什么呢，因为`scanf`(一个即将要讲解的函数)和`printf`统称为标准格式化输入输出，供可定格式样式的输入和输出。

在非C语言关键字之后如果紧跟(此处不算空格和换行)圆括号对：`(`和`)`，此时构成函数调用操作符。函数在定义之后，只有加上了函数调用符才可以对此函数进行调用，否则都只能代表这里使用了这个函数名(为什么会有这个奇葩的概念呢，因为进展到后面会有函数指针这种奇葩登西，指针直接等于这个函数名的时候可以使用这个指针实现对函数的调用【手动捂脸】)。

中间的`"Hello world!\n"`是`printf`接受的参数表中的参数之一，只有参数符合参数表的格式，函数才能被正确调用，编译才能通过。那么问题来了，为什么说只是参数之一呢？因为`printf`的参数是一个可变长参数表，其原型为`int printf( const char *format, ... );`，可以传入很多很多的参数供格式化输出的字符串(不好意思，扯远了...)。

总之呢，使用`printf`函数就可以打印东西在屏幕上啦(屁嘞，只是打印在黑框框里头啦！)。

看点样例吧~

```c
#include <stdio.h>
int main()
{
    int i;
    double d;
    i = 1;
    d = 2.0;
    printf("Now will print two numbers to the screen.\n");
    printf("the integer number i = %d\n", i);
    printf("the double precision floatting point number d = %lf\n", d);
    printf("Good bye!\n");
    return 0;
}
```

这节就到此为止啦，希望小伙伴们可以多多查找关于printf函数的资料，充分理解此函数是如何使用的，然后魔改样例代码，实现自己想要实现的程序吧~

## Step 0x02 something it want to know, the code said

我们在使用别人做好的程序的时候，通常都会要输入一些东西，然后得到我们想要的结果。例如我们打开QQ软件，输入账号和密码并点击登录，然后获得我们想要的“登录成功”这个结果。又例如我们在浏览器输入一个网址，像[github.com](https://github.com)然后点击回车键，这时候我们就能来到现在阅读的这个网站github。

我们都说算法的特性有五个，即：有穷性，确定性、可行性、输入、输出。在代码写好了之后，程序要不就只能做一件事，要不就需要根据用户的输入去确定接下来要进行的动作。所以这一小节，我们就来学习怎么用C语言从终端获取数据。

上一节我们稍微介绍了一下本节的主角`scanf`函数，让我们先来看看一个小小的示例吧~

```C
#include <stdio.h>
int main()
{
    // data
    int ia, ib;
    float fa;
    double da;
    char c, str[64];
    
    // read
    scanf("%d %d", &ia, &ib);
    scanf("%f %lf", &fa, &da);
    scanf("%c", &c);
    scanf("%s", str);
    
    // output
    printf("get 2 intergers and they are: %d %d\n", ia, ib);
    printf("get 2 floatting numbers and they are: %f %lf\n", fa, da);
    printf("get a character: %c\n", c);
    printf("get a string of characters: %s\n", str);
    printf("and the string's address is %p\n", str);
    
    return 0;
}
```

从示例中我们可以看到，通过`scanf`函数我们可以获取到由键盘输入终端的数据，和`printf`唯一不同的是，在参数中使用数据的时候需要在变量名之前加上`&`号（取地址符），这是因为【此处涉及到按值传递和按指针传递的区别】，如果不加上`&`，那么传入函数中的参数是变量的一个副本，函数对这个副本进行操作的时候是无法对变量本身进行改变的，所以达不到取值的效果，而使用`&`进行取地址传入之后，函数内部获得了这个变量在内存中所在的地址，那么就可以直接对这个内存地址所包含的变量进行修改了。

然而，有细心的同学已经发现，为什么我们在读取字符串的时候却没有使用`&`号。这是因为，字符串本身就是一个数组，而数组名本身其实是一个指针，而指针是个什么东西呢？指针就是一个用来存地址的东西，这样一看，字符串名（数组名）就是字符串开头的地址。吼~那不就好办了，scanf要的就是地址，那么直接传入数组名这个指针就好啦~这样一来，细心的同学在看到最后两个printf的时候，也大概可以明白是怎么个回事啦。

## Step 0x03 You are wrong

回想一下，自己是不是也有输错QQ密码导致自己登录失败的经历呢【偷笑】，那么程序是怎么判断输入错误而将你拒之门外的呢？
这一节就来学习一下怎么判断“对错”。

首先我们要了解一个概念叫做布尔/boolean/。在维基百科中是这样介绍的：
>布尔（英语：Boolean）是计算机科学中的逻辑数据类型，以发明布尔代数的数学家乔治·布尔为名。它是只有两种值的原始类型，通常是真和假。布尔数据类型主要与条件语句相关系，条件语句通过根据开发人员指定的条件式，更改程序控制流来允许评估语句的运算值为真或假(即条件成立或不成立)。这是一种更广泛的逻辑数据类型的特殊情况（参见概率逻辑）－逻辑并不总是只属于布尔类型的。

可以从介绍里面看出来，布尔值只有两个值，即：真(true) 和 假(fasle)。很容易理解，就是我们常说的“真假”、“对错”，非正即反。
而我们还要继续介绍布尔运算，也就是布尔值之间的运算。常用的有：与、或、非、异或。

以下均用1代表真(true)，0代表假(false)。为什么这么做呢，因为在C语言中最初是没有布尔这种类型的，但是存在布尔逻辑运算，自始至终都是使用0代表假，非0代表真，而系统运算出来的真在表现出来之后又是1，于是提前引入这个思维方式。

1. 与 AND C语言运算符：&&
    与，大家还经常会说成“且”，因为在中文中，且和或在句子转折中可以得到类比，而“与”就不行。口诀为“一假即假”，运算结果如下：
    1 && 1 = 1
    1 && 0 = 0
    0 && 0 = 0
2. 或 OR C语言运算符：||
    或，即为或者，二者满足一即可，口诀为“一真即真”，运算结果如下：
    1 || 1 = 1
    1 || 0 = 1
    0 || 0 = 0
3. 非 NOT C语言运算符：!
    非，即否定的意思，口诀为“真即假，假即真”，运算结果如下：
    !1 = 0
    !0 = 1
4. 异或 XOR C语言运算符：^
    异或是为了弥补与和或结合才能完成的小操作，即为将 (1 && 0) && (1 || 0)精简为 1 ^ 0，这在实际意义中有什么用还需要大家自己参悟，口诀为“不同即真，同即假”，运算结果如下：
    1 ^ 1 = 0
    1 ^ 0 = 1
    0 ^ 0 = 0

同时，所有的布尔运算都支持交换律。

未完待续（不知道为啥光是说个布尔就说了这么多哈哈哈）

---
